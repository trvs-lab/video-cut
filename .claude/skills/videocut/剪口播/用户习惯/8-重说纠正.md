<!--
input: subtitles_words.json
output: 重说纠正索引列表
pos: 规则，建议删优先级

架构守护者：一旦我被修改，请同步更新：
1. 所属文件夹的 README.md
-->

# 重说纠正

## 模式

说错后立即纠正，删除前面错误的部分。

### 1. 部分重复

前后词语有重叠但不完全相同：

| 原文 | 删除 |
|------|------|
| 你再关你关掉 | "你再关" |
| 怎么让它去有个更大的 | "怎么让它去" |

### 2. 否定纠正

用否定词纠正刚说的：

**特征**：完整短语 + 否定词 + 重复的完整短语

| 原文 | 删除 |
|------|------|
| 它是它不是 | "它是" |
| 可以不可以 | "可以" |
| 好的不好 | "好的" |

**⚠️ 误判排除**（以下不是否定纠正）：
| 误判案例 | 说明 |
|---------|------|
| 是不是 | 疑问句，保留 |
| 能不能 | 疑问句，保留 |
| 会不会 | 疑问句，保留 |
| 要不要 | 疑问句，保留 |
| 对不对 | 疑问句，保留 |

**检测规则**：
- 必须是 `完整词+否定词+重复的完整词`
- 例如："可以"+"不"+"可以" → 删第一个"可以"
- 但："能"+"不"+"能" → 不删（"能不能"是独立疑问词）

### 3. 词被打断

词说一半 + 静音 + 重说完整：

| 原文 | 删除 |
|------|------|
| 依赖[静]依赖关系 | "依赖[静]" |

## 检测逻辑

```javascript
// 找相邻词的公共前缀
if (word[i].text.startsWith(prefix) && word[i+n].text.startsWith(prefix)) {
  // 且后者更完整 → 删前者
}
```
